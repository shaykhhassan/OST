#!/bin/bash

# Check correct usage
if [ "$#" -ne 2 ]; then
    echo "Usage: $0 <input_file> <separator>" >&2
    exit 1
fi

file="$1"
sep="$2"

# Loop through each line of the input file
while IFS="$sep" read -r line; do
    # Split line into fields
    fields=($line)
    # Loop through each field to count empty cells
    for field in "${fields[@]}"; do
        if [ -z "$field" ]; then
            empty_cells=$((empty_cells + 1))
        fi
    done
done < "$file"

# Output the count of empty cells
echo "Number of empty cells: $empty_cells"
